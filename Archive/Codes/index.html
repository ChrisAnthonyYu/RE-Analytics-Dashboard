<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Windfield Real Estate Financials</title>
  
  <!-- This line links to your CSS file -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="sticky-header-container">
    <header class="header"><h1>Windfield Real Estate Financials</h1></header>
    <div class="filters-bar"><div class="filters-inner"><div class="controls"><div class="controls-grid"><div class="form-group"><label for="globalProperty">Property</label><select id="globalProperty" onchange="onGlobalFiltersChange()"></select></div><div class="form-group"><label for="globalMonth">Month</label><select id="globalMonth" onchange="onGlobalFiltersChange()"></select></div><div class="form-group"><label for="globalYear">Year</label><select id="globalYear" onchange="onGlobalFiltersChange()"></select></div></div></div></div></div>
    <nav class="nav-container"><div class="nav-tabs"><button class="nav-tab active" onclick="showTab('home', this)">Home</button><button class="nav-tab" onclick="showTab('financial-statements', this)">Financial Statements</button><button class="nav-tab" onclick="showTab('cashflow-overview', this)">Cashflow</button><button class="nav-tab" onclick="showTab('settings', this)">Settings</button></div></nav>
    <div class="sub-nav-container" id="cashflowSubNav" style="display:none;"><div class="nav-tabs" style="padding: 0 1.25rem;"><button class="sub-nav-tab active" onclick="showCashflowSubTab('cf-overview', this)">Overview</button><button class="sub-nav-tab" onclick="showCashflowSubTab('cf-cashflow', this)">Cashflow</button><button class="sub-nav-tab" onclick="showCashflowSubTab('cf-rentroll', this)">Rent Roll</button></div></div>
  </div>

  <main class="container">
    <section id="home" class="tab-content active"><div id="homeContent" class="card"><div class="card-header">Properties Overview</div><div class="card-body"><div class="loading">Loading data from GitHubâ€¦</div></div></div></section>
    <section id="financial-statements" class="tab-content"><div class="card"><div class="card-header">Financial Statements</div><div class="card-body"><button class="btn">Trial Balance</button> <button class="btn">Income Statement</button> <button class="btn">Balance Sheet</button></div></div></section>
    <section id="cashflow-overview" class="tab-content">
       <div id="cfMessage" class="loading card" style="display:block;">Please select a property from the top filter bar to view Cashflow Analytics.</div>
       <div id="cfContentContainer" style="display:none;">
            <div id="cf-overview" class="sub-tab-content active"><div class="kpi-grid"><div class="card"><div class="card-header">Property Details</div><div class="card-body kpi-item"><p><strong>Property Name:</strong> <span id="cf-property-name">-</span></p><p><strong>Address:</strong> <span id="cf-property-address">-</span></p><p><strong>Property Type:</strong> <span id="cf-property-type">-</span></p><p><strong>Owner:</strong> <span id="cf-property-owner">-</span></p></div></div><div class="card"><div class="card-header">Loan Information</div><div class="card-body"><ul id="cf-loans" class="loan-list"></ul></div></div></div></div>
            <div id="cf-cashflow" class="sub-tab-content"><div class="card"><div class="card-header">Cashflow Report</div><div class="card-body"><div id="cashflowReportContainer" class="table-container"></div></div></div></div>
            <div id="cf-rentroll" class="sub-tab-content"><div class="card"><div class="card-header">Rent Roll</div><div class="card-body loading">Rent Roll data and functionality will be added here.</div></div></div>
       </div>
    </section>
    <section id="settings" class="tab-content"><div class="card"><div class="card-header">Manage Years</div><div class="card-body"><input type="number" id="newYearInput" placeholder="e.g., 2026"><button class="btn" onclick="handleAddYear()">Add Year</button><p id="settingsStatus"></p></div></div></section>
  </main>

  <!-- External libraries first -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <!-- This line links to your JavaScript file -->
  <script src="script.js"></script>
</body>
</html>